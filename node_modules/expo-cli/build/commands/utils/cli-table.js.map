{"version":3,"sources":["../../../src/commands/utils/cli-table.ts"],"names":["printTableJsonArray","headers","jsonArray","colWidths","table","CliTable","head","forEach","json","push","map","header","toString","VERTICAL_CELL_WIDTH","printTableJson","header1","header2","Object","entries","key","value","JSON","stringify","String","replace","RegExp"],"mappings":";;;;;;;;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;;;AAGO,SAASA,mBAAT,CACLC,OADK,EAELC,SAFK,EAGLC,SAHK,EAIG;AACR,QAAMC,KAAK,GAAG,KAAIC,mBAAJ,EAAa;AACzBC,IAAAA,IAAI,EAAEL,OADmB;AAEzBE,IAAAA;AAFyB,GAAb,CAAd;AAKAD,EAAAA,SAAS,CAACK,OAAV,CAAkBC,IAAI,IAAI;AACxBJ,IAAAA,KAAK,CAACK,IAAN,CAAWR,OAAO,CAACS,GAAR,CAAYC,MAAM,IAAKH,IAAI,CAACG,MAAD,CAAJ,GAAeH,IAAI,CAACG,MAAD,CAAnB,GAA8B,EAArD,CAAX;AACD,GAFD;AAIA,SAAOP,KAAK,CAACQ,QAAN,EAAP;AACD;;AAED,MAAMC,mBAAmB,GAAG,EAA5B;;AACO,SAASC,cAAT,CAAwBN,IAAxB,EAA0CO,OAA1C,EAA4DC,OAA5D,EAAsF;AAC3F,MAAIZ,KAAK,GAAG,KAAIC,mBAAJ,GAAZ;;AACA,MAAIU,OAAO,IAAIC,OAAf,EAAwB;AACtBD,IAAAA,OAAO,GAAGA,OAAO,GAAGA,OAAH,GAAa,EAA9B;AACAC,IAAAA,OAAO,GAAGA,OAAO,GAAGA,OAAH,GAAa,EAA9B;AACAZ,IAAAA,KAAK,CAACK,IAAN,CAAW;AAAE,OAACM,OAAD,GAAWC;AAAb,KAAX;AACD;;AACDC,EAAAA,MAAM,CAACC,OAAP,CAAeV,IAAf,EAAqBD,OAArB,CAA6B,CAAC,CAACY,GAAD,EAAMC,KAAN,CAAD,KAAkB;AAC7C;AACA,QAAI,OAAOA,KAAP,KAAiB,QAArB,EAA+B;AAC7BA,MAAAA,KAAK,GAAGC,IAAI,CAACC,SAAL,CAAeF,KAAf,CAAR;AACD,KAFD,MAEO;AACLA,MAAAA,KAAK,GAAGG,MAAM,CAACH,KAAD,CAAd;AACD,KAN4C,CAO7C;;;AACAD,IAAAA,GAAG,GAAGA,GAAG,CAACK,OAAJ,CAAY,IAAIC,MAAJ,CAAW,QAAQZ,mBAAR,GAA8B,IAAzC,EAA+C,GAA/C,CAAZ,EAAiE,MAAjE,CAAN;AACAO,IAAAA,KAAK,GAAGA,KAAK,CAACI,OAAN,CAAc,IAAIC,MAAJ,CAAW,QAAQZ,mBAAR,GAA8B,IAAzC,EAA+C,GAA/C,CAAd,EAAmE,MAAnE,CAAR;AACAT,IAAAA,KAAK,CAACK,IAAN,CAAW;AAAE,OAACU,GAAD,GAAOC;AAAT,KAAX;AACD,GAXD;AAaA,SAAOhB,KAAK,CAACQ,QAAN,EAAP;AACD","sourcesContent":["import CliTable, { CellValue } from 'cli-table3';\nimport { JSONObject } from '@expo/json-file';\n\nexport function printTableJsonArray(\n  headers: string[],\n  jsonArray: { [key: string]: CellValue }[],\n  colWidths: number[]\n): string {\n  const table = new CliTable({\n    head: headers,\n    colWidths,\n  });\n\n  jsonArray.forEach(json => {\n    table.push(headers.map(header => (json[header] ? json[header] : '')));\n  });\n\n  return table.toString();\n}\n\nconst VERTICAL_CELL_WIDTH = 80;\nexport function printTableJson(json: JSONObject, header1?: string, header2?: string): string {\n  let table = new CliTable();\n  if (header1 || header2) {\n    header1 = header1 ? header1 : '';\n    header2 = header2 ? header2 : '';\n    table.push({ [header1]: header2 });\n  }\n  Object.entries(json).forEach(([key, value]) => {\n    // check if value is a JSON\n    if (typeof value === 'object') {\n      value = JSON.stringify(value);\n    } else {\n      value = String(value);\n    }\n    // Add newline every 80 chars\n    key = key.replace(new RegExp('(.{' + VERTICAL_CELL_WIDTH + '})', 'g'), '$1\\n');\n    value = value.replace(new RegExp('(.{' + VERTICAL_CELL_WIDTH + '})', 'g'), '$1\\n');\n    table.push({ [key]: value });\n  });\n\n  return table.toString();\n}\n"],"file":"cli-table.js"}