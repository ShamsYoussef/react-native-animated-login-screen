{"version":3,"sources":["../../src/commands/whoami.ts"],"names":["action","command","user","UserManager","getCurrentUserAsync","silent","parent","nonInteractive","log","nested","username","chalk","cyan","process","exit","program","alias","description","asyncAction"],"mappings":";;;;;;;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAGA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;;;AAEA,eAAeA,MAAf,CAAsBC,OAAtB,EAAwC;AACtC,QAAMC,IAAI,GAAG,MAAMC,mBAAYC,mBAAZ,CAAgC;AAAEC,IAAAA,MAAM,EAAE;AAAV,GAAhC,CAAnB;;AACA,MAAIH,IAAJ,EAAU;AAAA;;AACR,2BAAID,OAAO,CAACK,MAAZ,oDAAI,gBAAgBC,cAApB,EAAoC;AAClCC,qBAAIC,MAAJ,CAAWP,IAAI,CAACQ,QAAhB;AACD,KAFD,MAEO;AACL,0BAAK,gBAAeC,iBAAMC,IAAN,CAAWV,IAAI,CAACQ,QAAhB,CAA0B,EAA9C;AACD;AACF,GAND,MAMO;AACL,wBAAK,6BAA4BC,iBAAMC,IAAK,YAAY,kBAAxD;AACAC,IAAAA,OAAO,CAACC,IAAR,CAAa,CAAb;AACD;AACF;;AAEc,kBAAUC,OAAV,EAA4B;AACzCA,EAAAA,OAAO,CACJd,OADH,CACW,QADX,EAEGe,KAFH,CAES,GAFT,EAGGC,WAHH,CAGe,+DAHf,EAIGC,WAJH,CAIelB,MAJf;AAKD","sourcesContent":["import { UserManager } from '@expo/xdl';\nimport chalk from 'chalk';\nimport { Command } from 'commander';\n\nimport log from '../log';\n\nasync function action(command: Command) {\n  const user = await UserManager.getCurrentUserAsync({ silent: true });\n  if (user) {\n    if (command.parent?.nonInteractive) {\n      log.nested(user.username);\n    } else {\n      log(`Logged in as ${chalk.cyan(user.username)}`);\n    }\n  } else {\n    log(`\\u203A Not logged in, run ${chalk.cyan`expo login`} to authenticate`);\n    process.exit(1);\n  }\n}\n\nexport default function (program: Command) {\n  program\n    .command('whoami')\n    .alias('w')\n    .description('Checks with the server and then says who you are logged in as')\n    .asyncAction(action);\n}\n"],"file":"whoami.js"}