{"version":3,"sources":["../src/prompt.ts"],"names":["prompt","questions","nonInteractiveHelp","nQuestions","Array","isArray","length","program","nonInteractive","message","question","trim","replace","CommandError","inquirer","separator","args","Separator"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAEA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;;;;;;;AAKA;AACe,SAASA,MAAT,CACbC,SADa,EAEb;AAAEC,EAAAA;AAAF,IAA0D,EAF7C,EAGb;AACA,QAAMC,UAAU,GAAGC,KAAK,CAACC,OAAN,CAAcJ,SAAd,IAA2BA,SAAS,CAACK,MAArC,GAA8C,CAAjE;;AACA,MAAIC,qBAAQC,cAAR,IAA0BL,UAAU,KAAK,CAA7C,EAAgD;AAC9C,QAAIM,OAAO,GAAI,+DAAf;;AACA,QAAIP,kBAAJ,EAAwB;AACtBO,MAAAA,OAAO,IAAIP,kBAAX;AACD,KAFD,MAEO;AACL,YAAMQ,QAAa,GAAGN,KAAK,CAACC,OAAN,CAAcJ,SAAd,IAA2BA,SAAS,CAAC,CAAD,CAApC,GAA0CA,SAAhE;AACAQ,MAAAA,OAAO,IAAK,oBAAmB,CAACC,QAAQ,CAACD,OAAT,IAAoB,EAArB,EAAyBE,IAAzB,GAAgCC,OAAhC,CAAwC,KAAxC,EAA+C,IAA/C,CAAqD,EAApF;AACD;;AACD,UAAM,KAAIC,uBAAJ,EAAiB,iBAAjB,EAAoCJ,OAApC,CAAN;AACD;;AACD,SAAOK,oBAASd,MAAT,CAAgBC,SAAhB,CAAP;AACD;;AAEDD,MAAM,CAACe,SAAP,GAAmB,CAAC,GAAGC,IAAJ,KAAoB,KAAIF,oBAASG,SAAb,EAAuB,GAAGD,IAA1B,CAAvC","sourcesContent":["import program from 'commander';\nimport inquirer, { ChoiceType, Question } from 'inquirer';\n\nimport CommandError from './CommandError';\nexport { Question, ChoiceType };\n\ntype CliQuestions = Question | Question[];\n\n// note(cedric): this prompt is now deprecated in favor of ./prompts\nexport default function prompt(\n  questions: CliQuestions,\n  { nonInteractiveHelp }: { nonInteractiveHelp?: string } = {}\n) {\n  const nQuestions = Array.isArray(questions) ? questions.length : 1;\n  if (program.nonInteractive && nQuestions !== 0) {\n    let message = `Input is required, but Expo CLI is in non-interactive mode.\\n`;\n    if (nonInteractiveHelp) {\n      message += nonInteractiveHelp;\n    } else {\n      const question: any = Array.isArray(questions) ? questions[0] : questions;\n      message += `Required input:\\n${(question.message || '').trim().replace(/^/gm, '> ')}`;\n    }\n    throw new CommandError('NON_INTERACTIVE', message);\n  }\n  return inquirer.prompt(questions);\n}\n\nprompt.separator = (...args: any[]) => new inquirer.Separator(...args);\n"],"file":"prompt.js"}