{"version":3,"sources":["../src/exit.ts"],"names":["installExitHooks","projectDir","onStop","Project","stopAsync","killSignals","signal","process","on","console","log","chalk","blue","then","green","exit"],"mappings":";;;;;;;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;;;AAEO,SAASA,gBAAT,CACLC,UADK,EAELC,MAA6C,GAAGC,eAAQC,SAFnD,EAGC;AACN,QAAMC,WAAkC,GAAG,CAAC,QAAD,EAAW,SAAX,CAA3C;;AACA,OAAK,MAAMC,MAAX,IAAqBD,WAArB,EAAkC;AAChCE,IAAAA,OAAO,CAACC,EAAR,CAAWF,MAAX,EAAmB,MAAM;AACvBG,MAAAA,OAAO,CAACC,GAAR,CAAYC,iBAAMC,IAAN,CAAW,wBAAX,CAAZ;AACAV,MAAAA,MAAM,CAACD,UAAD,CAAN,CAAmBY,IAAnB,CAAwB,MAAM;AAC5BJ,QAAAA,OAAO,CAACC,GAAR,CAAYC,iBAAMG,KAAN,CAAY,mBAAZ,CAAZ;AACAP,QAAAA,OAAO,CAACQ,IAAR;AACD,OAHD;AAID,KAND;AAOD;AACF","sourcesContent":["import chalk from 'chalk';\nimport { Project } from '@expo/xdl';\n\nexport function installExitHooks(\n  projectDir: string,\n  onStop: (projectDir: string) => Promise<void> = Project.stopAsync\n): void {\n  const killSignals: ['SIGINT', 'SIGTERM'] = ['SIGINT', 'SIGTERM'];\n  for (const signal of killSignals) {\n    process.on(signal, () => {\n      console.log(chalk.blue('\\nStopping packager...'));\n      onStop(projectDir).then(() => {\n        console.log(chalk.green('Packager stopped.'));\n        process.exit();\n      });\n    });\n  }\n}\n"],"file":"exit.js"}