{"version":3,"sources":["../src/sendTo.ts"],"names":["getRecipient","sendTo","recipient","UserSettings","getAsync","askUser","askForSendToAsync","sendUrlAsync","url","simpleSpinner","start","result","Exp","sendAsync","stop"],"mappings":";;;;;;;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAEA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAEA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;;;AAEA,eAAeA,YAAf,CAA4BC,MAA5B,EAAwE;AACtE,MAAIC,SAAwB,GAAG,EAA/B;;AACA,MAAID,MAAJ,EAAY;AACV,QAAI,OAAOA,MAAP,KAAkB,SAAtB,EAAiC;AAC/BC,MAAAA,SAAS,GAAGD,MAAZ;AACD,KAFD,MAEO;AACLC,MAAAA,SAAS,GAAG,MAAMC,oBAAaC,QAAb,CAAsB,QAAtB,EAAgC,IAAhC,CAAlB;AACD;;AAED,QAAI,CAACF,SAAL,EAAgB;AACd,aAAO,MAAMG,mBAAQC,iBAAR,EAAb;AACD;AACF;;AAED,SAAOJ,SAAP;AACD;;AAED,eAAeK,YAAf,CAA4BC,GAA5B,EAAyCN,SAAzC,EAA4D;AAC1D,sBAAI,gBAAJ,EAAsBA,SAAtB;;AACAO,2BAAcC,KAAd;;AACA,MAAI;AACF,QAAIC,MAAM,GAAG,MAAMC,WAAIC,SAAJ,CAAcX,SAAd,EAAyBM,GAAzB,CAAnB;AACD,GAFD,SAEU;AACRC,6BAAcK,IAAd;AACD;;AACD,sBAAI,OAAJ;AACA,SAAOH,MAAP;AACD;;eAEc;AACbX,EAAAA,YADa;AAEbO,EAAAA;AAFa,C","sourcesContent":["import simpleSpinner from '@expo/simple-spinner';\n\nimport { Exp, UserSettings } from '@expo/xdl';\n\nimport askUser from './askUser';\nimport log from './log';\n\nasync function getRecipient(sendTo?: string | boolean): Promise<string> {\n  let recipient: string | null = '';\n  if (sendTo) {\n    if (typeof sendTo !== 'boolean') {\n      recipient = sendTo;\n    } else {\n      recipient = await UserSettings.getAsync('sendTo', null);\n    }\n\n    if (!recipient) {\n      return await askUser.askForSendToAsync();\n    }\n  }\n\n  return recipient;\n}\n\nasync function sendUrlAsync(url: string, recipient: string) {\n  log('Sending URL to', recipient);\n  simpleSpinner.start();\n  try {\n    var result = await Exp.sendAsync(recipient, url);\n  } finally {\n    simpleSpinner.stop();\n  }\n  log('Sent.');\n  return result;\n}\n\nexport default {\n  getRecipient,\n  sendUrlAsync,\n};\n"],"file":"sendTo.js"}