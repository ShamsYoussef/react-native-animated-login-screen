{"version":3,"sources":["Simulator.ts"],"names":["_lastUrl","SUGGESTED_XCODE_VERSION","XCODE_NOT_INSTALLED_ERROR","INSTALL_WARNING_TIMEOUT","isPlatformSupported","process","platform","_isLicenseOutOfDate","text","lower","toLowerCase","includes","_xcrunAsync","args","e","stdout","stderr","XDLError","Logger","global","error","join","_isSimulatorInstalledAsync","result","osascript","execAsync","trim","console","warn","matches","match","version","semver","valid","lt","isXDLError","toString","_openAndBootSimulatorAsync","_isSimulatorRunningAsync","info","_waitForDeviceToBoot","bootedDevice","_bootedSimulatorDeviceAsync","_bootDefaultSimulatorDeviceAsync","zeroMeansNo","deviceUDID","_getDefaultSimulatorDeviceUDIDAsync","_getFirstAvailableDeviceAsync","udid","defaultDeviceUDID","simulatorDeviceInfo","_listSimulatorDevicesAsync","devices","iOSRuntimesNewestToOldest","Object","keys","filter","runtime","reverse","i","length","device","isAvailable","availability","name","Error","JSON","parse","start","Date","now","state","_dirForSimulatorDevice","path","resolve","os","homedir","_quitSimulatorAsync","_isExpoAppInstalledOnCurrentBootedSimulatorAsync","simDir","cwd","_waitForExpoAppInstalledOnCurrentBootedSimulatorAsync","_expoVersionOnCurrentBootedSimulatorAsync","regex","regexMatch","exec","_checkExpoUpToDateAsync","_downloadSimulatorAppAsync","url","downloadProgressCallback","versions","Versions","versionsAsync","iosUrl","filename","dir","_simulatorCacheDirectory","fs","pathExists","filesInDir","readdir","removeSync","mkdirpSync","Api","downloadAsync","extract","_installExpoOnSimulatorAsync","bar","ProgressBar","total","width","warningTimer","setWarningTimer","clearTimeout","setTimeout","notifications","code","NotificationCode","START_LOADING","progress","tick","STOP_LOADING","_uninstallExpoAppFromSimulatorAsync","message","dotExpoHomeDirectory","UserSettings","upgradeExpoAsync","installResult","status","_openUrlInSimulatorAsync","openUrlInSimulatorSafeAsync","isDetached","success","msg","Analytics","logEvent","openProjectAsync","projectRoot","projectUrl","UrlUtils","constructManifestUrlAsync","hostType","exp","skipSDKVersionRequirement","openWebProjectAsync"],"mappings":"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","sourcesContent":["import * as osascript from '@expo/osascript';\nimport { getConfig } from '@expo/config';\nimport spawnAsync from '@expo/spawn-async';\nimport delayAsync from 'delay-async';\nimport fs from 'fs-extra';\nimport { sync as globSync } from 'glob';\nimport os from 'os';\nimport path from 'path';\nimport ProgressBar from 'progress';\nimport semver from 'semver';\n\nimport * as Analytics from './Analytics';\nimport Api from './Api';\nimport Logger from './Logger';\nimport NotificationCode from './NotificationCode';\nimport * as UrlUtils from './UrlUtils';\nimport UserSettings from './UserSettings';\nimport * as Versions from './Versions';\nimport { getUrlAsync as getWebpackUrlAsync } from './Webpack';\nimport XDLError from './XDLError';\n\nlet _lastUrl: string | null = null;\n\nconst SUGGESTED_XCODE_VERSION = `8.2.0`;\nconst XCODE_NOT_INSTALLED_ERROR =\n  'Simulator not installed. Please visit https://developer.apple.com/xcode/download/ to download Xcode and the iOS simulator. If you already have the latest version of Xcode installed, you may have to run the command `sudo xcode-select -s /Applications/Xcode.app`.';\n\nconst INSTALL_WARNING_TIMEOUT = 60 * 1000;\n\nexport function isPlatformSupported() {\n  return process.platform === 'darwin';\n}\n\nfunction _isLicenseOutOfDate(text: string) {\n  if (!text) {\n    return false;\n  }\n\n  let lower = text.toLowerCase();\n  return lower.includes('xcode') && lower.includes('license');\n}\n\nasync function _xcrunAsync(args: string[]) {\n  try {\n    return await spawnAsync('xcrun', args);\n  } catch (e) {\n    if (_isLicenseOutOfDate(e.stdout) || _isLicenseOutOfDate(e.stderr)) {\n      throw new XDLError(\n        'XCODE_LICENSE_NOT_ACCEPTED',\n        'Xcode license is not accepted. Please run `sudo xcodebuild -license`.'\n      );\n    } else {\n      Logger.global.error(`Error running \\`xcrun ${args.join(' ')}\\`: ${e.stderr}`);\n      throw e;\n    }\n  }\n}\n\n// Simulator installed\nexport async function _isSimulatorInstalledAsync() {\n  let result;\n  try {\n    result = (await osascript.execAsync('id of app \"Simulator\"')).trim();\n  } catch (e) {\n    console.error(\n      \"Can't determine id of Simulator app; the Simulator is most likely not installed on this machine\",\n      e\n    );\n    Logger.global.error(XCODE_NOT_INSTALLED_ERROR);\n    return false;\n  }\n  if (\n    result !== 'com.apple.iphonesimulator' &&\n    result !== 'com.apple.CoreSimulator.SimulatorTrampoline'\n  ) {\n    console.warn(\n      \"Simulator is installed but is identified as '\" + result + \"'; don't know what that is.\"\n    );\n    Logger.global.error(XCODE_NOT_INSTALLED_ERROR);\n    return false;\n  }\n\n  // check xcode version\n  try {\n    const { stdout } = await spawnAsync('xcodebuild', ['-version']);\n\n    // find something that looks like a dot separated version number\n    let matches = stdout.match(/[\\d]{1,2}\\.[\\d]{1,3}/);\n    if (!matches) {\n      // very unlikely\n      console.error('No version number found from `xcodebuild -version`.');\n      Logger.global.error(\n        'Unable to check Xcode version. Command ran successfully but no version number was found.'\n      );\n      return false;\n    }\n\n    // we're cheating to use the semver lib, but it expects a proper patch version which xcode doesn't have\n    const version = matches[0] + '.0';\n\n    if (!semver.valid(version)) {\n      console.error('Invalid version number found: ' + matches[0]);\n      return false;\n    }\n\n    if (semver.lt(version, SUGGESTED_XCODE_VERSION)) {\n      console.warn(\n        `Found Xcode ${version}, which is older than the recommended Xcode ${SUGGESTED_XCODE_VERSION}.`\n      );\n    }\n  } catch (e) {\n    // how would this happen? presumably if Simulator id is found then xcodebuild is installed\n    console.error(`Unable to check Xcode version: ${e}`);\n    Logger.global.error(XCODE_NOT_INSTALLED_ERROR);\n    return false;\n  }\n\n  // make sure we can run simctl\n  try {\n    await _xcrunAsync(['simctl', 'help']);\n  } catch (e) {\n    if (e.isXDLError) {\n      Logger.global.error(e.toString());\n    } else {\n      console.warn(`Unable to run simctl: ${e.toString()}`);\n      Logger.global.error(\n        'xcrun may not be configured correctly. Try running `sudo xcode-select --reset` and running this again.'\n      );\n    }\n    return false;\n  }\n\n  return true;\n}\n\n// Simulator opened\nexport async function _openAndBootSimulatorAsync() {\n  if (!(await _isSimulatorRunningAsync())) {\n    Logger.global.info('Opening iOS simulator');\n    await spawnAsync('open', ['-a', 'Simulator']);\n    await _waitForDeviceToBoot();\n  } else {\n    let bootedDevice = await _bootedSimulatorDeviceAsync();\n    if (!bootedDevice) {\n      await _bootDefaultSimulatorDeviceAsync();\n    }\n  }\n}\n\nexport async function _isSimulatorRunningAsync() {\n  let zeroMeansNo = (\n    await osascript.execAsync(\n      'tell app \"System Events\" to count processes whose name is \"Simulator\"'\n    )\n  ).trim();\n  if (zeroMeansNo === '0') {\n    return false;\n  }\n\n  return true;\n}\n\nasync function _bootDefaultSimulatorDeviceAsync() {\n  Logger.global.info(`Booting device in iOS simulator...`);\n  try {\n    let deviceUDID = await _getDefaultSimulatorDeviceUDIDAsync();\n    if (!deviceUDID) {\n      deviceUDID = (await _getFirstAvailableDeviceAsync()).udid;\n    }\n    return await _xcrunAsync(['simctl', 'boot', deviceUDID]);\n  } catch (e) {\n    Logger.global.error(\n      `There was a problem booting a device in iOS Simulator. Quit Simulator, and try again.`\n    );\n    throw e;\n  }\n}\n\nasync function _getDefaultSimulatorDeviceUDIDAsync() {\n  try {\n    const { stdout: defaultDeviceUDID } = await spawnAsync('defaults', [\n      'read',\n      'com.apple.iphonesimulator',\n      'CurrentDeviceUDID',\n    ]);\n    return defaultDeviceUDID.trim();\n  } catch (e) {\n    return null;\n  }\n}\n\nasync function _getFirstAvailableDeviceAsync() {\n  const simulatorDeviceInfo = (await _listSimulatorDevicesAsync()).devices;\n  let iOSRuntimesNewestToOldest = Object.keys(simulatorDeviceInfo)\n    .filter(runtime => runtime.includes('iOS'))\n    .reverse();\n\n  const devices = simulatorDeviceInfo[iOSRuntimesNewestToOldest[0]];\n  for (let i = 0; i < devices.length; i++) {\n    const device = devices[i];\n    if (\n      (device.isAvailable || device.availability === '(available)') &&\n      device.name.includes('iPhone')\n    ) {\n      return device;\n    }\n  }\n  throw new Error('No iPhone devices available in Simulator.');\n}\n\ntype SimulatorDevice = {\n  availability: string;\n  state: string;\n  isAvailable: boolean;\n  name: string;\n  udid: string;\n  availabilityError: string;\n};\ntype SimulatorDeviceList = {\n  devices: {\n    [runtime: string]: SimulatorDevice[];\n  };\n};\n\nasync function _listSimulatorDevicesAsync() {\n  const result = await _xcrunAsync(['simctl', 'list', 'devices', '--json']);\n  const info = JSON.parse(result.stdout) as SimulatorDeviceList;\n  return info;\n}\n\nasync function _waitForDeviceToBoot() {\n  let bootedDevice;\n  const start = Date.now();\n  do {\n    await delayAsync(100);\n    bootedDevice = await _bootedSimulatorDeviceAsync();\n    if (Date.now() - start > 10000) {\n      Logger.global.error(\n        `iOS Simulator device failed to boot. Try opening Simulator first, then running your app.`\n      );\n      throw new Error('Timed out waiting for iOS Simulator device to boot.');\n    }\n  } while (!bootedDevice);\n}\n\nasync function _bootedSimulatorDeviceAsync() {\n  let simulatorDeviceInfo = await _listSimulatorDevicesAsync();\n  for (let runtime in simulatorDeviceInfo.devices) {\n    let devices = simulatorDeviceInfo.devices[runtime];\n    for (let i = 0; i < devices.length; i++) {\n      let device = devices[i];\n      if (device.state === 'Booted') {\n        return device;\n      }\n    }\n  }\n  return null;\n}\n\nexport function _dirForSimulatorDevice(udid: string) {\n  return path.resolve(os.homedir(), 'Library/Developer/CoreSimulator/Devices', udid);\n}\n\nexport async function _quitSimulatorAsync() {\n  return await osascript.execAsync('tell application \"Simulator\" to quit');\n}\n\n// Expo installed\nexport async function _isExpoAppInstalledOnCurrentBootedSimulatorAsync() {\n  let device = await _bootedSimulatorDeviceAsync();\n  if (!device) {\n    return false;\n  }\n  let simDir = await _dirForSimulatorDevice(device.udid);\n  let matches = globSync('data/Containers/Data/Application/**/Snapshots/host.exp.Exponent{,**}', {\n    cwd: simDir,\n  });\n\n  return matches.length > 0;\n}\n\nexport async function _waitForExpoAppInstalledOnCurrentBootedSimulatorAsync(): Promise<boolean> {\n  if (await _isExpoAppInstalledOnCurrentBootedSimulatorAsync()) {\n    return true;\n  } else {\n    await delayAsync(100);\n    return await _waitForExpoAppInstalledOnCurrentBootedSimulatorAsync();\n  }\n}\n\nexport async function _expoVersionOnCurrentBootedSimulatorAsync() {\n  let device = await _bootedSimulatorDeviceAsync();\n  if (!device) {\n    return null;\n  }\n  let simDir = await _dirForSimulatorDevice(device.udid);\n  let matches = globSync('data/Containers/Bundle/Application/*/Exponent-*.app', {\n    cwd: simDir,\n  });\n\n  if (matches.length === 0) {\n    return null;\n  }\n\n  let regex = /Exponent-([0-9.]+)\\.app/;\n  let regexMatch = regex.exec(matches[0]);\n  if (!regexMatch) {\n    return null;\n  }\n\n  return regexMatch[1];\n}\n\n// NOTE(brentvatne): Temporarily remove this. We should take care of installing\n// automatically, not just warn.\nexport async function _checkExpoUpToDateAsync() {\n  // let versions = await Versions.versionsAsync();\n  // let installedVersion = await _expoVersionOnCurrentBootedSimulatorAsync();\n  // if (!installedVersion || semver.lt(installedVersion, versions.iosVersion)) {\n  //   Logger.notifications.warn(\n  //     { code: NotificationCode.OLD_IOS_APP_VERSION },\n  //     'This version of the Expo app is out of date. Uninstall the app and run again to upgrade.'\n  //   );\n  // }\n}\n\n// If specific URL given just always download it and don't use cache\nexport async function _downloadSimulatorAppAsync(\n  url?: string,\n  downloadProgressCallback?: (roundedProgress: number) => void\n) {\n  if (!url) {\n    let versions = await Versions.versionsAsync();\n    url = versions.iosUrl;\n  }\n\n  let filename = path.parse(url).name;\n  let dir = path.join(_simulatorCacheDirectory(), `${filename}.app`);\n\n  if (await fs.pathExists(dir)) {\n    let filesInDir = await fs.readdir(dir);\n    if (filesInDir.length > 0) {\n      return dir;\n    } else {\n      fs.removeSync(dir);\n    }\n  }\n\n  fs.mkdirpSync(dir);\n  try {\n    await Api.downloadAsync(url, dir, { extract: true }, downloadProgressCallback);\n  } catch (e) {\n    fs.removeSync(dir);\n    throw e;\n  }\n\n  return dir;\n}\n\n// url: Optional URL of Exponent.app tarball to download\nexport async function _installExpoOnSimulatorAsync(url?: string) {\n  const bar = new ProgressBar('Downloading the Expo client app [:bar] :percent :etas', {\n    total: 100,\n    width: 40,\n  });\n\n  let warningTimer: NodeJS.Timeout;\n  const setWarningTimer = () => {\n    if (warningTimer) {\n      clearTimeout(warningTimer);\n    }\n    return setTimeout(() => {\n      Logger.global.info('');\n      Logger.global.info(\n        'This download is taking longer than expected. You can also try downloading the clients from the website at https://expo.io/tools'\n      );\n    }, INSTALL_WARNING_TIMEOUT);\n  };\n\n  Logger.notifications.info({ code: NotificationCode.START_LOADING });\n  warningTimer = setWarningTimer();\n  let dir = await _downloadSimulatorAppAsync(url, progress => bar.tick(1, progress));\n  Logger.notifications.info({ code: NotificationCode.STOP_LOADING });\n\n  Logger.global.info('Installing Expo client on iOS simulator');\n  Logger.notifications.info({ code: NotificationCode.START_LOADING });\n  warningTimer = setWarningTimer();\n  let result = await _xcrunAsync(['simctl', 'install', 'booted', dir]);\n  Logger.notifications.info({ code: NotificationCode.STOP_LOADING });\n\n  clearTimeout(warningTimer);\n  return result;\n}\n\nexport async function _uninstallExpoAppFromSimulatorAsync() {\n  try {\n    Logger.global.info('Uninstalling Expo client from iOS simulator.');\n    await _xcrunAsync(['simctl', 'uninstall', 'booted', 'host.exp.Exponent']);\n  } catch (e) {\n    if (e.message && e.message.includes('No devices are booted.')) {\n    } else {\n      console.error(e);\n      throw e;\n    }\n  }\n}\n\nexport function _simulatorCacheDirectory() {\n  let dotExpoHomeDirectory = UserSettings.dotExpoHomeDirectory();\n  let dir = path.join(dotExpoHomeDirectory, 'ios-simulator-app-cache');\n  fs.mkdirpSync(dir);\n  return dir;\n}\n\nexport async function upgradeExpoAsync(url?: string): Promise<boolean> {\n  if (!(await _isSimulatorInstalledAsync())) {\n    return false;\n  }\n\n  await _openAndBootSimulatorAsync();\n  await _uninstallExpoAppFromSimulatorAsync();\n  let installResult = await _installExpoOnSimulatorAsync(url);\n  if (installResult.status !== 0) {\n    return false;\n  }\n\n  if (_lastUrl) {\n    Logger.global.info(`Opening ${_lastUrl} in Expo.`);\n    await _xcrunAsync(['simctl', 'openurl', 'booted', _lastUrl]);\n    _lastUrl = null;\n  }\n\n  return true;\n}\n\n// Open Url\nexport async function _openUrlInSimulatorAsync(url: string) {\n  return await _xcrunAsync(['simctl', 'openurl', 'booted', url]);\n}\n\nexport async function openUrlInSimulatorSafeAsync(\n  url: string,\n  isDetached: boolean = false\n): Promise<{ success: true } | { success: false; msg: string }> {\n  if (!(await _isSimulatorInstalledAsync())) {\n    return {\n      success: false,\n      msg: 'Unable to verify Xcode and Simulator installation.',\n    };\n  }\n\n  try {\n    await _openAndBootSimulatorAsync();\n\n    if (!isDetached && !(await _isExpoAppInstalledOnCurrentBootedSimulatorAsync())) {\n      await _installExpoOnSimulatorAsync();\n      await _waitForExpoAppInstalledOnCurrentBootedSimulatorAsync();\n    }\n\n    if (!isDetached) {\n      _lastUrl = url;\n      _checkExpoUpToDateAsync(); // let this run in background\n    }\n\n    Logger.global.info(`Opening ${url} in iOS simulator`);\n    await _openUrlInSimulatorAsync(url);\n  } catch (e) {\n    if (e.isXDLError) {\n      // Hit some internal error, don't try again.\n      // This includes Xcode license errors\n      Logger.global.error(e.message);\n      return {\n        success: false,\n        msg: `${e.toString()}`,\n      };\n    }\n\n    if (isDetached) {\n      Logger.global.error(\n        `Error running app. Have you installed the app already using Xcode? Since you are detached you must build manually. ${e.toString()}`\n      );\n    } else {\n      Logger.global.error(`Error installing or running app. ${e.toString()}`);\n    }\n\n    return {\n      success: false,\n      msg: `${e.toString()}`,\n    };\n  }\n\n  Analytics.logEvent('Open Url on Device', {\n    platform: 'ios',\n  });\n\n  return {\n    success: true,\n  };\n}\n\nexport async function openProjectAsync(\n  projectRoot: string\n): Promise<{ success: true; url: string } | { success: false; error: string }> {\n  let projectUrl = await UrlUtils.constructManifestUrlAsync(projectRoot, {\n    hostType: 'localhost',\n  });\n  const { exp } = getConfig(projectRoot, {\n    skipSDKVersionRequirement: true,\n  });\n\n  let result = await openUrlInSimulatorSafeAsync(projectUrl, !!exp.isDetached);\n  if (result.success) {\n    return { success: true, url: projectUrl };\n  } else {\n    return { success: result.success, error: result.msg };\n  }\n}\n\nexport async function openWebProjectAsync(\n  projectRoot: string\n): Promise<{ success: true; url: string } | { success: false; error: string }> {\n  const projectUrl = await getWebpackUrlAsync(projectRoot);\n  if (projectUrl === null) {\n    return {\n      success: false,\n      error: `The web project has not been started yet`,\n    };\n  }\n  const result = await openUrlInSimulatorSafeAsync(projectUrl, true);\n  if (result.success) {\n    return { success: true, url: projectUrl };\n  } else {\n    return { success: result.success, error: result.msg };\n  }\n}\n"],"file":"../Simulator.js","sourceRoot":"/@expo/xdl@57.9.17/src"}