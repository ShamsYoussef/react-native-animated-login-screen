"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getStandaloneBuilds = getStandaloneBuilds;
exports.getStandaloneBuildById = getStandaloneBuildById;

function _ApiV() {
  const data = _interopRequireDefault(require("./ApiV2"));

  _ApiV = function () {
    return data;
  };

  return data;
}

function _User() {
  const data = _interopRequireDefault(require("./User"));

  _User = function () {
    return data;
  };

  return data;
}

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

async function getStandaloneBuilds({
  platform,
  slug,
  owner,
  id
}, limit) {
  const user = await _User().default.ensureLoggedInAsync();

  const api = _ApiV().default.clientForUser(user);

  const {
    builds
  } = await api.getAsync('standalone-build/get', {
    id,
    slug,
    platform,
    limit,
    status: 'finished',
    owner
  });
  return builds;
}

async function getStandaloneBuildById(queryParams) {
  const builds = await getStandaloneBuilds(queryParams, 1);

  if (builds.length === 0) {
    return null;
  } else {
    return builds[0];
  }
}
//# sourceMappingURL=__sourcemaps__/StandaloneBuild.js.map
